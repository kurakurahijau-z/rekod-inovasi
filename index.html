<!doctype html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rekod Inovasi Jabatan</title>
  <script src="config.js"></script>
  <script src="app.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    :root{
      --bg1:#eef2ff; --bg2:#ecfeff; --card:#ffffffcc; --line:#e5e7eb;
      --text:#0f172a; --muted:#64748b;
    }
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system;
      min-height:100vh; display:flex; align-items:center; justify-content:center;
      background: radial-gradient(1200px 600px at 20% 20%, var(--bg1), transparent),
                  radial-gradient(1200px 600px at 80% 30%, var(--bg2), transparent),
                  #f8fafc;
      color:var(--text);
    }
    .card{
      width:min(520px,92vw);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid var(--line);
      border-radius:18px;
      padding:24px;
      box-shadow: 0 20px 60px rgba(2,6,23,.12);
    }
    .top{ display:flex; gap:14px; align-items:center; }
    .logo{
      width:44px; height:44px; border-radius:14px;
      background: linear-gradient(135deg,#60a5fa,#22c55e);
      display:flex; align-items:center; justify-content:center;
      font-weight:800; color:white;
    }
    h1{ margin:0; font-size:22px; }
    .sub{ margin:4px 0 0; color:var(--muted); font-size:14px;}
    .box{
      margin-top:18px; border:1px solid var(--line); border-radius:14px; padding:16px; background:#fff;
    }
    .muted{ color:var(--muted); font-size:13px; margin-top:10px; }
    .status{ margin-top:10px; font-size:13px; color:#b91c1c; }
    .foot{ margin-top:18px; display:flex; justify-content:space-between; color:var(--muted); font-size:12px;}
  </style>
</head>
<body>
  <div class="card">
    <div class="top">
      <div class="logo">RI</div>
      <div>
        <h1>Rekod Inovasi Jabatan</h1>
        <div class="sub">Log masuk guna akaun rasmi @pms.edu.my</div>
      </div>
    </div>

    <div class="box">
      <div style="font-weight:700;margin-bottom:10px;">Login Google</div>

      <!-- Google button mount -->
      <div id="g_id_onload"
           data-client_id=""
           data-callback="onGoogleCredentialResponse"
           data-auto_prompt="false">
      </div>
      <div class="g_id_signin"
           data-type="standard"
           data-size="large"
           data-theme="outline"
           data-text="signin_with"
           data-shape="pill"
           data-logo_alignment="left">
      </div>

      <div class="muted">
        Nota: sistem akan semak email anda wujud dalam <b>StaffDirectory</b> (whitelist).
      </div>

      <div id="loginStatus" class="status"></div>
    </div>

    <div class="foot">
      <span>Â© 2026 kurakurahijau.com</span>
      <span>v1</span>
    </div>
  </div>

  <script>
    // inject client id dari config.js
    const el = document.querySelector("#g_id_onload");
    el.setAttribute("data-client_id", window.APP_CONFIG.GOOGLE_CLIENT_ID);
  </script>
</body>
</html>
